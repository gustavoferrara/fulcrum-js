{"version":3,"sources":["../../src/resources/batch.js"],"names":["DEFAULT_PER_PAGE","Batch","params","options","qs","defaultListParams","client","api","get","collectionPath","body","id","memberPath","resourcesName","object","attributesForObject","attributes","post","per_page","Resource"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAMA,mBAAmB,IAAzB;;IAEqBC,K;;;;;;;;;;;2GAaTC,M;;;;;;AACFC,uB,GAAU;AACdC,sBAAIF,UAAU,KAAKG;AADL,iB;;uBAIG,KAAKC,MAAL,CAAYC,GAAZ,CAAgBC,GAAhB,CAAoB,KAAKC,cAAL,EAApB,EAA2CN,OAA3C,C;;;AAAbO,oB;iDACCA,I;;;;;;;;;;;;;;;;;;;6GAGEC,E;;;;;;;uBACU,KAAKL,MAAL,CAAYC,GAAZ,CAAgBC,GAAhB,CAAoB,KAAKI,UAAL,CAAgBD,EAAhB,CAApB,C;;;AAAbD,oB;kDAECA,KAAK,KAAKG,aAAV,C;;;;;;;;;;;;;;;;;;;6GAGIC,M;;;;;;;;AACLC,mC,GAAsB,SAAtBA,mBAAsB,GAAM;AAChC,sBAAMC,aAAa,EAAnB;AACA;AACAA,6BAAW,OAAKH,aAAhB,IAAiCC,MAAjC;AACA,yBAAOE,UAAP;AACD,iB;;AAEKb,uB,GAAU;AACdO,wBAAMK,oBAAoBD,MAApB;AADQ,iB;;uBAIG,KAAKR,MAAL,CAAYC,GAAZ,CAAgBU,IAAhB,CAAqB,KAAKJ,aAA1B,EAAyCV,OAAzC,C;;;AAAbO,oB;kDAECA,KAAK,KAAKG,aAAV,C;;;;;;;;;;;;;;;;;;;6GAGQF,E,EAAIG,M;;;;;;AACbX,uB,GAAU;AACdO,wBAAM,KAAKK,mBAAL,CAAyBD,MAAzB;AADQ,iB;;uBAIG,KAAKR,MAAL,CAAYC,GAAZ,CAAgBU,IAAhB,CAAwB,KAAKL,UAAL,CAAgBD,EAAhB,CAAxB,kBAA0DR,OAA1D,C;;;AAAbO,oB;kDAECA,KAAK,KAAKG,aAAV,C;;;;;;;;;;;;;;;;;;;6GAGGF,E;;;;;;;uBACS,KAAKL,MAAL,CAAYC,GAAZ,CAAgBU,IAAhB,CAAwB,KAAKL,UAAL,CAAgBD,EAAhB,CAAxB,Y;;;AAAbD,oB;kDAECA,KAAK,KAAKG,aAAV,C;;;;;;;;;;;;;;;;;;wBAzDU;AACjB,aAAO,YAAP;AACD;;;wBAEmB;AAClB,aAAO,OAAP;AACD;;;wBAEuB;AACtB,aAAO,EAAEK,UAAUlB,gBAAZ,EAAP;AACD;;;EAXgCmB,c;;kBAAdlB,K","file":"batch.js","sourcesContent":["import Resource from './base';\n\nconst DEFAULT_PER_PAGE = 1000;\n\nexport default class Batch extends Resource {\n  get resourceName() {\n    return 'operations';\n  }\n\n  get resourcesName() {\n    return 'batch';\n  }\n\n  get defaultListParams() {\n    return { per_page: DEFAULT_PER_PAGE };\n  }\n\n  async all(params) {\n    const options = {\n      qs: params || this.defaultListParams\n    };\n\n    const body = await this.client.api.get(this.collectionPath(), options);\n    return body;\n  }\n\n  async find(id) {\n    const body = await this.client.api.get(this.memberPath(id));\n\n    return body[this.resourcesName];\n  }\n\n  async create(object) {\n    const attributesForObject = () => {\n      const attributes = {};\n      // resourcesName instead of resourceName\n      attributes[this.resourcesName] = object;\n      return attributes;\n    };\n\n    const options = {\n      body: attributesForObject(object)\n    };\n\n    const body = await this.client.api.post(this.resourcesName, options);\n\n    return body[this.resourcesName];\n  }\n\n  async operations(id, object) {\n    const options = {\n      body: this.attributesForObject(object)\n    };\n\n    const body = await this.client.api.post(`${this.memberPath(id)}/operations`, options);\n\n    return body[this.resourcesName];\n  }\n\n  async start(id) {\n    const body = await this.client.api.post(`${this.memberPath(id)}/start`);\n\n    return body[this.resourcesName];\n  }\n}\n\n"]}